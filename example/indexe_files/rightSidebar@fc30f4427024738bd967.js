webpackJsonp([11],{0:function(e,t,n){"use strict";function p(e){return e&&e.__esModule?e:{"default":e}}var r=n(1);var i=p(r);var s=n(153);var o=n(154);var u=n(1227);var a=p(u);var f=n(770);var l=p(f);var c=n(530);var h=p(c);h["default"].polyfill();window.pageRight={dispatch:l["default"].dispatch,getState:l["default"].getState};(0,s.render)(i["default"].createElement(o.Provider,{store:l["default"]},i["default"].createElement(a["default"],null)),document.getElementById("right-sidebar"))},206:function(e,t){},213:function(e,t,n){var r;(function(e){(function(){var i,s,o,u,a,f,l,c;o=function(e){return window.document.createElement(e)};u=window.encodeURIComponent;l=Math.random;i=function(e){var t,n,r,i,u,f,l;if(e==null){e={}}f={data:e.data||{},error:e.error||a,success:e.success||a,beforeSend:e.beforeSend||a,complete:e.complete||a,url:e.url||""};f.computedUrl=s(f);if(f.url.length===0){throw new Error("MissingUrl")}i=false;if(f.beforeSend({},f)!==false){r=e.callbackName||"callback";n=e.callbackFunc||"jsonp_"+c(15);t=f.data[r]=n;window[t]=function(e){window[t]=null;f.success(e,f);return f.complete(e,f)};l=o("script");l.src=s(f);l.async=true;l.onerror=function(e){f.error({url:l.src,event:e});return f.complete({url:l.src,event:e},f)};l.onload=l.onreadystatechange=function(){var e,t;if(i||(e=this.readyState)!=="loaded"&&e!=="complete"){return}i=true;if(l){l.onload=l.onreadystatechange=null;if((t=l.parentNode)!=null){t.removeChild(l)}return l=null}};u=window.document.getElementsByTagName("head")[0]||window.document.documentElement;u.insertBefore(l,u.firstChild)}return{abort:function(){window[t]=function(){return window[t]=null};i=true;if(l!=null?l.parentNode:void 0){l.onload=l.onreadystatechange=null;l.parentNode.removeChild(l);return l=null}}}};a=function(){return void 0};s=function(e){var t;t=e.url;t+=e.url.indexOf("?")<0?"?":"&";t+=f(e.data);return t};c=function(e){var t;t="";while(t.length<e){t+=l().toString(36).slice(2,3)}return t};f=function(e){var t,n,r;t=function(){var t;t=[];for(n in e){r=e[n];t.push(u(n)+"="+u(r))}return t}();return t.join("&")};if("function"!=="undefined"&&n(214)!==null?n(215):void 0){!(r=function(){return i}.call(t,n,t,e),r!==undefined&&(e.exports=r))}else if(typeof e!=="undefined"&&e!==null?e.exports:void 0){e.exports=i}else{this.JSONP=i}}).call(this)}).call(t,n(191)(e))},214:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},215:function(e,t){(function(t){e.exports=t}).call(t,{})},217:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t,n){if(typeof module!="undefined"&&module.exports)module.exports=n();else if(true)!(__WEBPACK_AMD_DEFINE_FACTORY__=n,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);t=t&&t[1]||context.location.protocol;return httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){if(e._aborted)return n(e.request);if(e._timedOut)return n(e.request,"Request is aborted: timeout");if(e.request&&e.request[readyState]==4){e.request.onreadystatechange=noop;if(succeed(e))t(e.request);else n(e.request)}}}function setHeaders(e,t){var n=t["headers"]||{},r;n["Accept"]=n["Accept"]||defaultHeaders["accept"][t["type"]]||defaultHeaders["accept"]["*"];var i=typeof FormData!=="undefined"&&t["data"]instanceof FormData;if(!t["crossOrigin"]&&!n[requestedWith])n[requestedWith]=defaultHeaders["requestedWith"];if(!n[contentType]&&!i)n[contentType]=t["contentType"]||defaultHeaders["contentType"];for(r in n)n.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n[r])}function setCredentials(e,t){if(typeof t["withCredentials"]!=="undefined"&&typeof e.withCredentials!=="undefined"){e.withCredentials=!!t["withCredentials"]}}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,s=e["jsonpCallback"]||"callback",o=e["jsonpCallbackName"]||reqwest.getcallbackPrefix(i),u=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),a=r.match(u),f=doc.createElement("script"),l=0,c=navigator.userAgent.indexOf("MSIE 10.0")!==-1;if(a){if(a[3]==="?"){r=r.replace(u,"$1="+o)}else{o=a[3]}}else{r=urlappend(r,s+"="+o)}context[o]=generalCallback;f.type="text/javascript";f.src=r;f.async=true;if(typeof f.onreadystatechange!=="undefined"&&!c){f.htmlFor=f.id="_reqwest_"+i}f.onload=f.onreadystatechange=function(){if(f[readyState]&&f[readyState]!=="complete"&&f[readyState]!=="loaded"||l){return false}f.onload=f.onreadystatechange=null;f.onclick&&f.onclick();t(lastValue);lastValue=undefined;head.removeChild(f);l=1};head.appendChild(f);return{abort:function(){f.onload=f.onreadystatechange=null;n({},"Request is aborted: timeout",{});lastValue=undefined;head.removeChild(f);l=1}}}function getRequest(e,t){var n=this.o,r=(n["method"]||"GET").toUpperCase(),i=typeof n==="string"?n:n["url"],s=n["processData"]!==false&&n["data"]&&typeof n["data"]!=="string"?reqwest.toQueryString(n["data"]):n["data"]||null,o,u=false;if((n["type"]=="jsonp"||r=="GET")&&s){i=urlappend(i,s);s=null}if(n["type"]=="jsonp")return handleJsonp(n,e,t,i);o=n.xhr&&n.xhr(n)||xhr(n);o.open(r,i,n["async"]===false?false:true);setHeaders(o,n);setCredentials(o,n);if(context[xDomainRequest]&&o instanceof context[xDomainRequest]){o.onload=e;o.onerror=t;o.onprogress=function(){};u=true}else{o.onreadystatechange=handleReadyState(this,e,t)}n["before"]&&n["before"](o);if(u){setTimeout(function(){o.send(s)},200)}else{o.send(s)}return o}function Reqwest(e,t){this.o=e;this.fn=t;init.apply(this,arguments)}function setType(e){if(e===null)return undefined;if(e.match("json"))return"json";if(e.match("javascript"))return"js";if(e.match("text"))return"html";if(e.match("xml"))return"xml"}function init(o,fn){function complete(e){o["timeout"]&&clearTimeout(self.timeout);self.timeout=null;while(self._completeHandlers.length>0){self._completeHandlers.shift()(e)}}function success(resp){var type=o["type"]||resp&&setType(resp.getResponseHeader("Content-Type"));resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r){switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML;break}}self._responseArgs.resp=resp;self._fulfilled=true;fn(resp);self._successHandler(resp);while(self._fulfillmentHandlers.length>0){resp=self._fulfillmentHandlers.shift()(resp)}complete(resp)}function timedOut(){self._timedOut=true;self.request.abort()}function error(e,t,n){e=self.request;self._responseArgs.resp=e;self._responseArgs.msg=t;self._responseArgs.t=n;self._erred=true;while(self._errorHandlers.length>0){self._errorHandlers.shift()(e,t,n)}complete(e)}this.url=typeof o=="string"?o:o["url"];this.timeout=null;this._fulfilled=false;this._successHandler=function(){};this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=false;this._responseArgs={};var self=this;fn=fn||function(){};if(o["timeout"]){this.timeout=setTimeout(function(){timedOut()},o["timeout"])}if(o["success"]){this._successHandler=function(){o["success"].apply(o,arguments)}}if(o["error"]){this._errorHandlers.push(function(){o["error"].apply(o,arguments)})}if(o["complete"]){this._completeHandlers.push(function(){o["complete"].apply(o,arguments)})}this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n=e.name,r=e.tagName.toLowerCase(),i=function(e){if(e&&!e["disabled"])t(n,normalize(e["attributes"]["value"]&&e["attributes"]["value"]["specified"]?e["value"]:e["text"]))},s,o,u,a;if(e.disabled||!n)return;switch(r){case"input":if(!/reset|button|image|file/i.test(e.type)){s=/checkbox/i.test(e.type);o=/radio/i.test(e.type);u=e.value;(!(s||o)||e.checked)&&t(n,normalize(s&&u===""?"on":u))}break;case"textarea":t(n,normalize(e.value));break;case"select":if(e.type.toLowerCase()==="select-one"){i(e.selectedIndex>=0?e.options[e.selectedIndex]:null)}else{for(a=0;e.length&&a<e.length;a++){e.options[a].selected&&i(e.options[a])}}break}}function eachFormElement(){var e=this,t,n,r=function(t,n){var r,i,s;for(r=0;r<n.length;r++){s=t[byTag](n[r]);for(i=0;i<s.length;i++)serial(s[i],e)}};for(n=0;n<arguments.length;n++){t=arguments[n];if(/input|select|textarea/i.test(t.tagName))serial(t,e);r(t,["input","select","textarea"])}}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};eachFormElement.apply(function(t,n){if(t in e){e[t]&&!isArray(e[t])&&(e[t]=[e[t]]);e[t].push(n)}else e[t]=n},arguments);return e}function buildParams(e,t,n,r){var i,s,o,u=/\[\]$/;if(isArray(t)){for(s=0;t&&s<t.length;s++){o=t[s];if(n||u.test(e)){r(e,o)}else{buildParams(e+"["+(typeof o==="object"?s:"")+"]",o,n,r)}}}else if(t&&t.toString()==="[object Object]"){for(i in t){buildParams(e+"["+i+"]",t[i],n,r)}}else{r(e,t)}}var context=this;if("window"in context){var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0]}else{var XHR2;try{XHR2=__webpack_require__(218)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +(new Date),lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e["crossOrigin"]===true){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t){return t}else if(context[xDomainRequest]){return new XDomainRequest}else{throw new Error("Browser does not support cross-origin requests")}}else if(context[xmlHttpRequest]){return new XMLHttpRequest}else if(XHR2){return new XHR2}else{return new ActiveXObject("Microsoft.XMLHTTP")}},globalSetupOptions={dataFilter:function(e){return e}};Reqwest.prototype={abort:function(){this._aborted=true;this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){e=e||function(){};t=t||function(){};if(this._fulfilled){this._responseArgs.resp=e(this._responseArgs.resp)}else if(this._erred){t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._fulfillmentHandlers.push(e);this._errorHandlers.push(t)}return this},always:function(e){if(this._fulfilled||this._erred){e(this._responseArgs.resp)}else{this._completeHandlers.push(e)}return this},fail:function(e){if(this._erred){e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._errorHandlers.push(e)}return this},"catch":function(e){return this.fail(e)}};reqwest.serializeArray=function(){var e=[];eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments);return e};reqwest.serialize=function(){if(arguments.length===0)return"";var e,t,n=Array.prototype.slice.call(arguments,0);e=n.pop();e&&e.nodeType&&n.push(e)&&(e=null);e&&(e=e.type);if(e=="map")t=serializeHash;else if(e=="array")t=reqwest.serializeArray;else t=serializeQueryString;return t.apply(null,n)};reqwest.toQueryString=function(e,t){var n,r,i=t||false,s=[],o=encodeURIComponent,u=function(e,t){t="function"===typeof t?t():t==null?"":t;s[s.length]=o(e)+"="+o(t)};if(isArray(e)){for(r=0;e&&r<e.length;r++)u(e[r]["name"],e[r]["value"])}else{for(n in e){if(e.hasOwnProperty(n))buildParams(n,e[n],i,u)}}return s.join("&").replace(/%20/g,"+")};reqwest.getcallbackPrefix=function(){return callbackPrefix};reqwest.compat=function(e,t){if(e){e["type"]&&(e["method"]=e["type"])&&delete e["type"];e["dataType"]&&(e["type"]=e["dataType"]);e["jsonpCallback"]&&(e["jsonpCallbackName"]=e["jsonpCallback"])&&delete e["jsonpCallback"];e["jsonp"]&&(e["jsonpCallback"]=e["jsonp"])}return new Reqwest(e,t)};reqwest.ajaxSetup=function(e){e=e||{};for(var t in e){globalSetupOptions[t]=e[t]}};return reqwest})},218:function(e,t){},220:function(e,t,n){var r,i;(function(){"use strict";function s(){var e=[];for(var t=0;t<arguments.length;t++){var r=arguments[t];if(!r)continue;var i=typeof r;if(i==="string"||i==="number"){e.push(r)}else if(Array.isArray(r)){if(r.length){var o=s.apply(null,r);if(o){e.push(o)}}}else if(i==="object"){if(r.toString===Object.prototype.toString){for(var u in r){if(n.call(r,u)&&r[u]){e.push(u)}}}else{e.push(r.toString())}}}return e.join(" ")}var n={}.hasOwnProperty;if(typeof e!=="undefined"&&e.exports){s["default"]=s;e.exports=s}else if(true){!(r=[],i=function(){return s}.apply(t,r),i!==undefined&&(e.exports=i))}else{window.classNames=s}})()},234:function(e,t,n){"use strict";function s(e,t){var n=["日","一","二","三","四","五","六"];var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),w:e.getDay(),W:n[e.getDay()],S:e.getMilliseconds()};if(/(y+)/.test(t)){t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))}for(var i in r){if((new RegExp("("+i+")")).test(t)){t=t.replace(RegExp.$1,RegExp.$1.length==1?r[i]:("00"+r[i]).substr((""+r[i]).length))}}return t}function o(e,t,n,r,i){if(!n){n=0}if(!r){r=0}if(!i){i=0}var s=e.getTime()-t*24*3600*1e3-n*3600*1e3-r*60*1e3-i*1e3;return new Date(s)}function u(e,t,n,r,i){if(!n){n=0}if(!r){r=0}if(!i){i=0}var s=e.getTime()+t*24*3600*1e3+n*3600*1e3+r*60*1e3+i*1e3;return new Date(s)}function a(e,t){var n=e.getMonth();var r=e.getFullYear();n+=t;r+=Math.floor(n/12);n=n%12;var i=new Date(r+"-"+(n+1<10?"0"+(n+1):n+1)+"-01");return p(i)}function f(e,t){e=c(e);for(var n=0;n<t;n++){e=new Date(e.getTime()-24*60*60*1e3);e=c(e)}return e}function l(e,t){var n=e.getFullYear();var r=e.getMonth();var i=e.getDate();var s=new Date(e.setFullYear(n+1,r,i));return this.zeroTimeOfDay(s)}function c(e){var t=new Date(e.getTime());t.setDate(1);return p(t)}function h(){var e=new Date;return p(e)}function p(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}function d(e){var t=a(e,1);return new Date(t.getTime()-24*60*60*1e3)}function v(e){if((typeof e==="undefined"?"undefined":r(e))==="object"){return new Date(e)}else if(typeof e==="string"){return new Date(e.replace(/-/g,"/"))}}function m(e,t){e.setDate(e.getDate()+t)}function g(e,t){var n=v(e),r=v(t);return(r-n)/(24*60*60*1e3)}function y(){return i.fuzzyDate||{}}function b(e){return/^([1-9]|10|11|12)月$/.test(e)||i.fuzzyDate.hasOwnProperty(e)}function w(e){var t=y();var n=h();var r=void 0;if(/^([1-9]|10|11|12)月$/.test(e)){var i=e.replace("月","");var s=i-1<n.getMonth()?n.getFullYear()+1:n.getFullYear();r=new Date(s,i-1,1)}else{r=new Date(t[e].start.replace("-","/"))}if(r.getTime()<n.getTime()){r=n}return r}function E(e){var t=y();var n=w(e);var r=void 0;if(/^([1-9]|10|11|12)月$/.test(e)){r=d(n)}else{r=new Date(t[e].end.replace("-","/"))}return r}Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.format=s;t.sub=o;t.add=u;t.addMonth=a;t.subMonth=f;t.addYear=l;t.firstdayOfMonth=c;t.today=h;t.zeroTimeOfDay=p;t.lastdayOfMonth=d;t.getDate=v;t.addDate=m;t.distance=g;t.fuzzyDateConf=y;t.isFuzzyDate=b;t.fuzzyMonthFromDate=w;t.fuzzyMonthToDate=E;var i=n(235)},235:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.fuzzyDate={}},240:function(e,t,n){"use strict";function u(e){if(typeof e==="number"){e=new Date(e)}return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())}function a(e){return e<10?"0"+e:e}function l(e){var t={};for(var n in e){var r=n;var i=e[n];t[n]=i;var s="";var a="";var f=void 0;var l=void 0;if(i.beforeTime>0){for(var c=1;c<=i.beforeTime;c++){var h={};l=r.split("-");f=new Date(l[0],l[1]-1,l[2]-c);var p=u(f);h.holidayName=i.holidayName+o.before+c+o.day;h.dayindex=i.dayindex;if(!t[p]){t[p]=h}else{if(i.dayindex>t[p].dayindex&&t[p].beforeTime==null){t[p]=h}}}}if(i.afterTime>0){for(var d=1;d<=i.afterTime;d++){var v={};l=r.split("-");var m=new Date(l[0],l[1]-1,parseInt(l[2])+d);var g=u(m);v.holidayName=i.holidayName+o.after+d+o.day;v.dayindex=i.dayindex;if(!t[g]){t[g]=v}else{if(i.dayindex>t[g].dayindex&&t[u(new Date(f))].afterTime==null){t[g]=v}}}}}return t}Object.defineProperty(t,"__esModule",{value:true});var r=n(241);var i=void 0,s=void 0,o=void 0;(0,r.getCalendarHoliday)("www").then(function(e){i=e.HolidayData;s=e.WorkHoliday;o=e.TransDateEx});var f=void 0;var c={getHolidayName:function(t){if(t in i){return i[t].holidayName}return""},getHolidayClass:function(t){if(t in i){return i[t].holidayClass}return""},getDateTip:function(t){if(f===void 0){f=l(i)}if(t in f){return f[t].holidayName}return""},getAllDateTip:function(){return f},isHoliday:function(t){return i[t]},isWork:function(t){return s.work.indexOf(t)>-1},isVacation:function(t){return s.vacation.indexOf(t)>-1},getHolidayInfo:function(t){var n=i[t];return n}};t["default"]=c;e.exports=t["default"]},241:function(module,exports,__webpack_require__){!function(e,t){if(true)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){var n="www"===e?"wwwCalendarHolidayConfig":"touchCalendarHolidayConfig",r=f(n);return p[e]?new Promise(function(e,n){e(p.value),t&&"function"==typeof t&&t(p.value)}):r?(p[e]=r,i(r.time,e,n,t),new Promise(function(e,n){e(r.value),t&&"function"==typeof t&&t(r.value)})):s(n,e,t)}function i(e,t,n,r){if(e){var i=Date.now()-e;i>h&&s(n,t,r)}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"touch",n=arguments[2],r=function(e){var t=u(e);"function"==typeof n&&n(t)};return o({url:c+t,success:n?r:"",method:"get",type:"jsonp",jsonpCallbackName:"getHoliday"}).then(function(t){return l(e,t),u(t)})["catch"](function(e){return{err:e}})}var o=n(1),u=n(3).parseJsonString,a=n(4),f=a.getStorageByKey,l=a.setStorageByKey,c="https://m.flight.qunar.com/flightConfig/calendar/",h=864e5,p={};window.getConfigFuns?window.getConfigFuns.getCalendarHoliday=r:window.getConfigFuns={getCalendarHoliday:r},e.exports={getCalendarHoliday:r}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():(__WEBPACK_AMD_DEFINE_FACTORY__=n,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void (e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t["headers"]||{};r["Accept"]=r["Accept"]||defaultHeaders["accept"][t["type"]]||defaultHeaders["accept"]["*"];var i="undefined"!=typeof FormData&&t["data"]instanceof FormData;t["crossOrigin"]||r[requestedWith]||(r[requestedWith]=defaultHeaders["requestedWith"]),r[contentType]||i||(r[contentType]=t["contentType"]||defaultHeaders["contentType"]);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t["withCredentials"]&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t["withCredentials"])}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,s=e["jsonpCallback"]||"callback",o=e["jsonpCallbackName"]||reqwest.getcallbackPrefix(i),u=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),a=r.match(u),f=doc.createElement("script"),l=0,c=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return a?"?"===a[3]?r=r.replace(u,"$1="+o):o=a[3]:r=urlappend(r,s+"="+o),context[o]=generalCallback,f.type="text/javascript",f.src=r,f.async=!0,"undefined"==typeof f.onreadystatechange||c||(f.htmlFor=f.id="_reqwest_"+i),f.onload=f.onreadystatechange=function(){return!(f[readyState]&&"complete"!==f[readyState]&&"loaded"!==f[readyState]||l)&&(f.onload=f.onreadystatechange=null,f.onclick&&f.onclick(),t(lastValue),lastValue=void 0,head.removeChild(f),void (l=1))},head.appendChild(f),{abort:function(){f.onload=f.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(f),l=1}}}function getRequest(e,t){var n,r=this.o,i=(r["method"]||"GET").toUpperCase(),s="string"==typeof r?r:r["url"],o=r["processData"]!==!1&&r["data"]&&"string"!=typeof r["data"]?reqwest.toQueryString(r["data"]):r["data"]||null,u=!1;return"jsonp"!=r["type"]&&"GET"!=i||!o||(s=urlappend(s,o),o=null),"jsonp"==r["type"]?handleJsonp(r,e,t,s):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(i,s,r["async"]!==!1),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},u=!0):n.onreadystatechange=handleReadyState(this,e,t),r["before"]&&r["before"](n),u?setTimeout(function(){n.send(o)},200):n.send(o),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o["timeout"]&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o["type"]||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o["url"],this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o["timeout"]&&(this.timeout=setTimeout(function(){timedOut()},o["timeout"])),o["success"]&&(this._successHandler=function(){o["success"].apply(o,arguments)}),o["error"]&&this._errorHandlers.push(function(){o["error"].apply(o,arguments)}),o["complete"]&&this._completeHandlers.push(function(){o["complete"].apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,s,o=e.name,u=e.tagName.toLowerCase(),a=function(e){e&&!e["disabled"]&&t(o,normalize(e["attributes"]["value"]&&e["attributes"]["value"]["specified"]?e["value"]:e["text"]))};if(!e.disabled&&o)switch(u){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!(n||r)||e.checked)&&t(o,normalize(n&&""===i?"on":i)));break;case"textarea":t(o,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())a(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(s=0;e.length&&s<e.length;s++)e.options[s].selected&&a(e.options[s])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,i,s;for(r=0;r<t.length;r++)for(s=e[byTag](t[r]),i=0;i<s.length;i++)serial(s[i],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,s,o,u=/\[\]$/;if(isArray(t))for(s=0;t&&s<t.length;s++)o=t[s],n||u.test(e)?r(e,o):buildParams(e+"["+("object"==typeof o?s:"")+"]",o,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(2)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +(new Date),lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e["crossOrigin"]===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,s=[],o=encodeURIComponent,u=function(e,t){t="function"==typeof t?t():null==t?"":t,s[s.length]=o(e)+"="+o(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)u(e[r]["name"],e[r]["value"]);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,u);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e["type"]&&(e["method"]=e["type"])&&delete e["type"],e["dataType"]&&(e["type"]=e["dataType"]),e["jsonpCallback"]&&(e["jsonpCallbackName"]=e["jsonpCallback"])&&delete e["jsonpCallback"],e["jsonp"]&&(e["jsonpCallback"]=e["jsonp"])),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},function(e,t){},function(module,exports){"use strict";function parseJsonString(string){return _isSupportJson()?JSON.parse(string):eval("("+string+")")}function _isSupportJson(){return!!JSON&&!!JSON.parse}module.exports={parseJsonString:parseJsonString}},function(e,t,n){"use strict";function r(e){if(!s())return null;var t=window.localStorage[e];return t?{value:o(t),time:window.localStorage[e+"UpdateTime"]}:null}function i(e,t){s()&&(t&&window.localStorage.setItem(e+"",t),window.localStorage.setItem(e+"UpdateTime",Date.now()))}function s(){var e=window,t=e.Storage,n=e.localStorage;return!!t&&!!n&&n instanceof t}var o=n(3).parseJsonString;e.exports={getStorageByKey:r,setStorageByKey:i}}])})},243:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:true});var r=n(240);var i=s(r);var o=["周日","周一","周二","周三","周四","周五","周六"];var u={now:function(){return new Date},throttle:function(t,n,r){var i,s,o,a;var f=0;if(!r)r={};var l=function(){f=r.leading===false?0:u.now();i=null;a=t.apply(s,o);if(!i)s=o=null};var c=function(){var c=u.now();if(!f&&r.leading===false)f=c;var h=n-(c-f);s=this;o=arguments;if(h<=0||h>n){if(i){clearTimeout(i);i=null}f=c;a=t.apply(s,o);if(!i)s=o=null}else if(!i&&r.trailing!==false){i=setTimeout(l,h)}return a};c.cancel=function(){clearTimeout(i);f=0;i=s=o=null};return c},getSpecialDay:function(t){return i["default"].isWork(t)?{className:"text-primary",label:"班"}:i["default"].isVacation(t)?{className:"text-warning",label:"休"}:{}},getYYYYMMDD:function(t){return t.getFullYear()+"-"+u.padNumWithZero(t.getMonth()+1,2)+"-"+u.padNumWithZero(t.getDate(),2)},getWeekDay:function(t){var n=i["default"].getHolidayInfo(t);return n?{label:n.holidayName,className:"text-warning"}:{label:o[(new Date(t.replace(/-/g,"/"))).getDay()]}},padNumWithZero:function(t,n){var r=["","0","00","000"],i=String(t).length;return i<n?r[n-i]+t:t},getDisplayDate:function(t){return t.replace(/\d{4}\-/,"")}};t["default"]=u;e.exports=t["default"]},245:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]={addEventListener:function(t,n,r){if(t.addEventListener){t.addEventListener(n,r,false)}else if(t.attachEvent){t.attachEvent("on"+n,r)}},removeEventListener:function(t,n,r){if(t.removeEventListener){t.removeEventListener(n,r,false)}else if(t.detachEvent){t.detachEvent("on"+n,r)}}};e.exports=t["default"]},263:function(e,t){"use strict";function r(e){return{type:n.DO_SEARCH,payload:e}}function i(){return{type:n.LOCAL_DATE_SUCCESS}}Object.defineProperty(t,"__esModule",{value:true});t.doSearch=r;t.localDateSuccess=i;var n=t.SEARCHBOX_TYPES={DO_SEARCH:"DO_SEARCH",LOCAL_DATE_SUCCESS:"LOCAL_DATE_SUCCESS",CHANGE_SEARCH_TYPE:"SEARCHBOX_CHANGE_SEARCH_TYPE",SEARCHBOX_GET_ONEWAY_LOWPRICE:"SEARCHBOX_GET_ONEWAY_LOWPRICE",SEARCHBOX_START_GET_LOWPRICE:"SEARCHBOX_START_GET_LOWPRICE"}},264:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function h(e){return function(t,n){var r={dep:e.dep,arr:e.arr};var o=c.map(function(e){return[e,r[e]].join("=")}).join("|");var u=void 0;if(u=l[o]){t({fromCache:true,type:s.SEARCHBOX_TYPES.SEARCHBOX_GET_ONEWAY_LOWPRICE,onewayDateList:u,reqType:e.reqType,reqDepDate:e.reqDepDate,params:e});return}t({type:s.SEARCHBOX_TYPES.SEARCHBOX_START_GET_LOWPRICE});var a=1;if(e.inter){a=2}return(0,i["default"])({url:"//gw.flight.qunar.com/api/f/priceCalendar",data:{dep:r.dep,arr:r.arr,days:"",priceType:a},success:function(r){var i={};i.banner=[];if(r&&r.bstatus&&r.bstatus.code==0){var u=r.data&&r.data.gflights||[];for(var a=0;a<u.length;a++){var f=u[a];var c=f.price;if(c===""){c=9999999}i.banner.push({depDate:f.date,price:c})}l[o]=i}t({type:s.SEARCHBOX_TYPES.SEARCHBOX_GET_ONEWAY_LOWPRICE,onewayDateList:i,reqType:e.reqType,reqDepDate:e.reqDepDate,params:e})}})}}function p(e){return function(t,n){var r={dep:e.dep,arr:e.arr};var s=c.map(function(e){return[e,r[e]].join("=")}).join("|");var o=void 0;if(o=l[s]){t({fromCache:true,type:f.DATEBAR_GET_ONEWAY_LOWPRICE,onewayDateList:o,reqType:e.reqType,reqDepDate:e.reqDepDate,params:e});return}t({type:f.DATEBAR_START_GET_LOWPRICE});var u=1;if(e.inter){u=2}return(0,i["default"])({url:"//gw.flight.qunar.com/api/f/priceCalendar",data:{dep:r.dep,arr:r.arr,days:"",priceType:u},success:function(r){var i={};i.banner=[];if(r&&r.bstatus&&r.bstatus.code==0){var o=r.data&&r.data.gflights||[];for(var u=0;u<o.length;u++){var a=o[u];var c=a.price;if(c===""){c=9999999}i.banner.push({depDate:a.date,price:c})}l[s]=i}t({type:f.DATEBAR_GET_ONEWAY_LOWPRICE,onewayDateList:i,reqType:e.reqType,reqDepDate:e.reqDepDate,params:e})}})}}function d(e){return function(t,n){var r={dep:e.dep,arr:e.arr,dep_date:e.reqDepDate||e.depDate,ret_date:e.reqRetDate||e.retDate,adultCount:e.adultCount||1,tax_incl:e.inter?1:0,direct:e.direct?1:0};var s=c.map(function(e){return[e,r[e]].join("=")}).join("|");var o=void 0;if(o=l[s]){t({fromCache:true,type:f.DATEBAR_GET_ROUNDWAY_LOWPRICE,reqType:e.reqType,reqDepDate:e.reqDepDate,reqRetDate:e.reqRetDate,roundwayDateList:o,params:e});return}t({type:f.DATEBAR_START_GET_LOWPRICE});return(0,i["default"])({url:"//lp.flight.qunar.com/api/lp_calendar",data:r,success:function(r){if(r&&r.ret){l[s]=r.data}t({type:f.DATEBAR_GET_ROUNDWAY_LOWPRICE,reqType:e.reqType,reqDepDate:e.reqDepDate,reqRetDate:e.reqRetDate,roundwayDateList:r.data||{},params:e})}})}}Object.defineProperty(t,"__esModule",{value:true});t.Actions=undefined;t.fetchSearchBoxOnewayLowpriceAction=h;t.fetchOnewayLowpriceAction=p;t.fetchRoundwayLowpriceAction=d;var r=n(213);var i=a(r);var s=n(263);var o=n(243);var u=a(o);var f=t.Actions={DATEBAR_GET_ONEWAY_LOWPRICE:"DATEBAR_GET_ONEWAY_LOWPRICE",DATEBAR_GET_ROUNDWAY_LOWPRICE:"DATEBAR_GET_ROUNDWAY_LOWPRICE",DATEBAR_START_GET_LOWPRICE:"DATEBAR_START_GET_LOWPRICE"};var l={};var c=["dep","arr","dep_date","ret_date","adultCount","month_lp","tax_incl","direct"]},265:function(e,t,n){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:true});t.dialog=undefined;var r=n(266);var i=h(r);var s=n(268);var o=h(s);var u=n(269);var a=h(u);var f=n(270);var l=h(f);var c=n(267);n(271);var p=t.dialog={base:i["default"],box:o["default"],alert:a["default"],confirm:l["default"],lightbox:c.lightbox,hide:c.lightbox.hide.bind(c.lightbox)};window.dialog=p},266:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!e){return}t=Object.assign({dialogClass:"",type:"",ifChangeBtnPosition:false,complete:u,autoClose:0,close:true,maskClose:false,title:"",subtit:"",note:"",btns:[{text:"确定",callback:u,id:"layer_continue",cls:"btn-ok"},{text:"取消",callback:u,id:"layer_cancel",cls:"btn-cancel"}]},t);var n=[];n.push('<div id="popContentLayer" class="pop-wrap pop-wrap-'+t.type+'">');n.push('<div class="cont">');if(t.close){n.push('<i class="iconfont ico-close" id="layer_close">&#xf471;</i>')}if(t.title){n.push('<div class="pop-hd">'+t.title+"</div>")}n.push('<div class="pop-bd">');if(t.subtit){n.push('<div class="d-tit">'+t.subtit+" </div>");n.push('<div class="d-info">'+e+"</div>")}else{n.push('<div class="d-txt">'+e+"</div>")}if(t.btns&&t.btns.length){n.push('<div class="d-btn">');if(t.ifChangeBtnPosition){for(var r=t.btns.length-1;r>-1;r--){var i=t.btns[r];n.push('<button id="'+i.id+'" class="'+i.cls+'">'+i.text+"</button>")}}else{for(var s=0;s<t.btns.length;s++){var o=t.btns[s];n.push('<button id="'+o.id+'" class="'+o.cls+'">'+o.text+"</button>")}}n.push("</div>")}if(t.note){n.push('<div class="d-des">'+t.note+"</div>")}n.push("</div>");n.push("</div>");n.push("</div>");window.dialog.lightbox.show(n.join(""),undefined,t.dialogClass);if(t.complete){t.complete.call(null)}if(t.autoClose){setTimeout(function(){p()},t.autoClose)}c(function(e,t,n){h(e,n)},t)}function c(e,t){var n=this;var r=function(i){if(!i.target){i.target=i.srcElement}e.call(n,i,this,t)};if(t.maskClose){var i=document.getElementById("g-pops-bg");a=r;s["default"].addEventListener(i,"click",a)}var o=document.getElementById("g-pops");f=r;s["default"].addEventListener(o,"click",f)}function h(e,t){var n=e.target;if(n.id==="g-pops-bg"){p();return}while(n!=document.getElementById("g-pops")){if(t.btns&&t.btns.length){for(var r=0;r<t.btns.length;r++){var i=t.btns[r];if(n.id==i.id){p();i.callback&&i.callback();return}}}if(n.id=="layer_close"||n.id=="layer_cancel"){p();return}n=n.parentNode}return}function p(){window.dialog.lightbox.hide();if(a){var e=document.getElementById("g-pops-bg");s["default"].removeEventListener(e,"click",a);a=null}if(f){var t=document.getElementById("g-pops");s["default"].removeEventListener(t,"click",f);f=null}}Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var r=n(267);var i=n(245);var s=o(i);var u=function(){};var a=void 0;var f=void 0;e.exports=t["default"]},267:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:true});t.lightbox=undefined;var r=n(245);var i=s(r);var o=t.lightbox={overlay:null,content:null,a:{display:"none",left:"0"},b:{display:"none"},c:{display:"block",left:"50%"},d:{display:"block"},binded:false,toBind:function(t){o.show(null,1,t)},gid:1,_place:function(t){var n=document.compatMode&&document.compatMode.toLowerCase()=="css1compat"?document.documentElement:document.body;if(t&2){var r=(n.clientHeight-this.content.offsetHeight)/2;var i=Math.floor(this.content.offsetWidth/2);var s=Object.assign({},this.c,{top:(r>0?r:0)+(window.pageYOffset||n.scrollTop)+"px",marginLeft:0-i+"px"});for(var u in s){o.content.style[u]=s[u]}}if(t&1){var a=Object.assign({},this.d,{height:Math.max(n.scrollHeight,n.clientHeight)+"px",width:Math.max(n.scrollWidth,n.clientWidth)+"px"});for(var f in a){o.overlay.style[f]=a[f]}}},show:function(t,n,r){if(!this.overlay){this.overlay=document.body.appendChild(document.createElement("div"));this.content=document.body.appendChild(document.createElement("div"));this.overlay.id="g-pops-bg";this.overlay.className="g-pops-bg";this.content.id="g-pops";this.content.className="g-pops"}if(r){var s=this.content.className;if(s.indexOf(r)===-1){this.content.className+=" "+r}}else{this.content.className="g-pops"}if(t){this.content.innerHTML=t}if(!this.binded){this.binded=true;i["default"].addEventListener(window,"resize",this.toBind(r))}this.content.style.visibility="hidden";this.content.style.display="block";this._place(n==null?3:n);this.content.style.visibility="visible";var o=this;if(n==null){setTimeout(function(){for(var e in o.c){o.content.style[e]=o.c[e]}for(var t in o.d){o.overlay.style[t]=o.d[t]}},50)}},hide:function(){this.content.innerHTML="";for(var t in this.a){this.content.style[t]=this.a[t]}for(var n in this.b){this.overlay.style[n]=this.b[n]}i["default"].removeEventListener(window,"resize",this.toBind);this.binded=false}}},268:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=Object.assign({complete:t.complete,autoClose:t.autoClose},t);r.dialog.base(e,{type:"box",close:false,complete:t.complete,autoClose:t.autoClose,btns:[]})}Object.defineProperty(t,"__esModule",{value:true});t["default"]=i;var r=n(265);e.exports=t["default"]},269:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=Object.assign({ok_text:"确定",ok_callback:function(){}},t);r.dialog.base(e,{type:"alert",title:"信息提示",subtit:t.subtit,close:false,btns:[{id:"layer_continue",text:t.ok_text,callback:t.ok_callback,cls:"btn-ok"}]})}Object.defineProperty(t,"__esModule",{value:true});t["default"]=i;var r=n(265);e.exports=t["default"]},270:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=Object.assign({ok_text:"确定",ok_callback:function(){},cancel_text:"取消",cancel_callback:function(){}},t);r.dialog.base(e,{dialogClass:t.dialogClass||"",type:"confirm",title:t.title||"信息提示",ifChangeBtnPosition:t.ifChangeBtnPosition||false,close:false,btns:[{id:"layer_continue",text:t.ok_text,callback:t.ok_callback,cls:"btn-ok"},{id:"layer_cancel",text:t.cancel_text,callback:t.cancel_callback,cls:"btn-cancel"}]})}Object.defineProperty(t,"__esModule",{value:true});t["default"]=i;var r=n(265);e.exports=t["default"]},271:function(e,t){},277:function(e,t,n){"use strict";function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}}Object.defineProperty(t,"__esModule",{value:true});t.scrollFilterTop=t.scrollFlightItemTop=t.scrollTop=undefined;var r=n(278);var i=s(r);var o=t.scrollTop=function(t,n){return{type:i.TOP,duration:t||0,delay:n||0}};var u=t.scrollFlightItemTop=function(t,n,r){return{type:i.FLIGHT_ITEM_TOP,itemOffsetTop:t||0,duration:n||0,delay:r||0}};var a=t.scrollFilterTop=function(t,n){return{type:i.FILTER_TOP,duration:t||0,delay:n||0}}},278:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={TOP:"TOP",FLIGHT_ITEM_TOP:"FLIGHT_ITEM_TOP",FILTER_TOP:"FILTER_TOP"};t["default"]=n;e.exports=t["default"]},285:function(e,t,n){"use strict";function h(e){return{type:s,checked:e}}function p(e){return{type:o,sort:e}}function d(e){return{type:u,filter:e}}function v(e){return{type:a,filters:e}}function m(e){return f[e]||c}function g(e){return{type:r.DATA_FILTER_TASK,task:l[e]}}function y(e,t){return function(n,r){n(m(e)(t));var s=r().raw,o=s.searchType,u=s.inter;if(o==="ONEWAY"&&!u||e=="sort"){n(g(e))}if(u&&e=="direct"){var a=Object.assign({},r().datebar.params);a.direct=t;a.month_lp=0;a.reqType=o=="ROUNDTRIP"?"roundway":"oneway";n(o=="ROUNDTRIP"?(0,i.fetchRoundwayLowpriceAction)(a):(0,i.fetchOnewayLowpriceAction)(a))}}}Object.defineProperty(t,"__esModule",{value:true});t.CLEARFILTER=t.FILTER=t.SORT=t.DIRECT=undefined;t.getDirect=h;t.getSort=p;t.getFilter=d;t.clearFilter=v;t.filterChange=y;var r=n(286);var i=n(264);var s=t.DIRECT="DIRECT";var o=t.SORT="SORT";var u=t.FILTER="FILTER";var a=t.CLEARFILTER="CLEARFILTER";var f={direct:h,sort:p,filter:d,clear:v};var l={direct:r.TASK_MAP.FILTER,sort:r.TASK_MAP.SORT,filter:r.TASK_MAP.FILTER,clear:r.TASK_MAP.FILTER};var c=function(){return{type:"FILTER.NO_CHANGE"}}},286:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.RENDER_DATA_READY="RENDER_DATA_READY";var r=t.DATA_FILTER_TASK="DATA_FILTER_TASK";var i=t.TASK_MAP={FILTER:"FILTER",PAGER:"PAGER",SORT:"SORT"}},290:function(e,t,n){"use strict";function s(e,t){return function(n,i){n(o(e,t));n(u(r.TASK_MAP.PAGER))}}function o(e,t){return{type:i,pageNo:e,actType:t}}function u(e){return{type:r.DATA_FILTER_TASK,task:e}}Object.defineProperty(t,"__esModule",{value:true});t.PAGE_CHANGE_NUMBER=undefined;t.changePageNumber=s;var r=n(286);var i=t.PAGE_CHANGE_NUMBER="PAGE_CHANGE_NUMBER"},294:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function c(e){return{type:a,payload:e}}Object.defineProperty(t,"__esModule",{value:true});t.fetchNearData=t.toggleOTAList=t.FETCH_NEAR_DATA=t.TOGGLE_OTA_LIST=undefined;var r=n(213);var i=s(r);var o="//lp.flight.qunar.com/api/dom/recommend/nearby_route";var u=t.TOGGLE_OTA_LIST="LIST.TOGGLE_OTA_LIST";var a=t.FETCH_NEAR_DATA="FETCH_NEAR_DATA";var f=t.toggleOTAList=function(t,n,r){return{type:u,key:t,isActive:n,detail:r}};var l=t.fetchNearData=function(t){t=t||{};t._rnd=Date.now();return function(e){(0,i["default"])({url:o,data:t,success:function(n){var r=n.records||[];e(c(r))},error:function(n){e(c([]))}})}}},301:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.GOBOOKING="GOBOOKING"},313:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=[];if(e instanceof Object){for(var n in e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}}return t.join("&")}function a(){var e={};var t=window.location.search.replace("?","").split("&");for(var n=0;n<t.length;n++){var r=t[n].split("=");e[r[0]]=decodeURIComponent(r[1])}return e}function f(e){return e===null||(typeof e==="undefined"?"undefined":r(e))===undefined||JSON.stringify(e)=="{}"}function l(e,t){if(!Array.isArray(e)||!Array.isArray(t)){return false}return e.some(function(e){return t.indexOf(e)>-1})}function c(e,t){if(!Array.isArray(e)||!Array.isArray(t)){return false}if(e.length>t.length){return false}return e.every(function(e){return t.indexOf(e)>-1})}function h(e,t){if(!Array.isArray(e)||!Array.isArray(t)){return false}return t.some(function(t){return e.indexOf(t)===-1})}function p(e,t){if(!e){return{}}var n={};var r,i,s,o;for(r in t){s=t[r];i=o=e[r];if(i){if(typeof s==="function"){var u=s.call(e,r,i);s=u.key;o=u.value}n[s]=o}}return n}function m(){return new Date(d.getTime())}function g(){return new Date(v.getTime())}function y(){var e=new Date-g();return new Date(m().getTime()+e)}function b(){return y().getTime()-m().getTime()}function w(e,t){var n=Object.assign({},e);if(!t)return n;for(var r in t){var i=t[r],s=n[r];if(i){if(s){Object.assign(s,i)}else{n[r]=i}}}return n}function E(){return!Array.prototype.every.call(arguments,function(e){return!!e})}function S(e){if(e<=0){return"未知"}var t=Math.floor(e/60),n=e%60;return(t?t+"小时":"")+(n?n+"分钟":"")}function x(e,t,n){var r=e.length;return r<t?e:e.substr(0,n)+"..."}function T(e,t){var n=decodeURIComponent(s["default"].load("QN621"));return(new RegExp(e+"="+t)).test(n)}function N(e){var t=[];if(e instanceof Object){for(var n in e){t.push(n+"="+e[n])}}return t}Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.toQueryString=u;t.parseQueryParam=a;t.isEmptyObject=f;t.isArraySomeSame=l;t.isArrayContained=c;t.isArrayNotContained=h;t.filterMaps=p;t.getServerTime=m;t.getClientTime=g;t.getExactlyLocalTime=y;t.getPageStayTime=b;t.merge=w;t.isNotEmpty=E;t.parseTimeStr=S;t.shortStr=x;t.abtest=T;t.objToArr=N;var i=n(225);var s=o(i);window.parseQueryParam=a;var d=new Date((window.SERVER_TIME||new Date).getTime());var v=new Date((window.CLIENT_TIME||new Date).getTime())},337:function(e,t){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout){return setTimeout(e,0)}if((r===s||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function a(e){if(i===clearTimeout){return clearTimeout(e)}if((i===o||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}function p(){if(!l||!c){return}l=false;if(c.length){f=c.concat(f)}else{h=-1}if(f.length){d()}}function d(){if(l){return}var e=u(p);l=true;var t=f.length;while(t){c=f;f=[];while(++h<t){if(c){c[h].run()}}h=-1;t=f.length}c=null;l=false;a(e)}function v(e,t){this.fun=e;this.array=t}function m(){}var n=e.exports={};var r;var i;(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=s}}catch(e){r=s}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=o}}catch(e){i=o}})();var f=[];var l=false;var c;var h=-1;n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}f.push(new v(e,t));if(f.length===1&&!l){u(d)}};v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},347:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.OTA_ROUND_WAY_TYPES={GET_ROUND_WAY_OTA_INFO_START:"GET_ROUND_WAY_OTA_INFO_START",GET_ROUND_WAY_OTA_INFO_SUCCESS:"GET_ROUND_WAY_OTA_INFO_SUCCESS",GET_ROUND_WAY_OTA_INFO_FAILED:"GET_ROUND_WAY_OTA_INFO_FAILED"}},426:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var i=n(1);var s=l(i);var o=n(220);var u=l(o);var a=n(427);var f=l(a);n(428);n(430);var d=function(e){function t(e,n){c(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}p(t,e);r(t,[{key:"render",value:function(){var t=this.props.listData;return this.renderList(t)}},{key:"renderList",value:function(t){var n=this;var t=t.map(function(e,t){return s["default"].createElement(f["default"],{key:"item-"+t,item:e,click:n.props.click})});return s["default"].createElement("ul",{className:"m-sidebar-bd"},t)}}]);return t}(i.Component);t["default"]=d;e.exports=t["default"]},427:function(e,t,n){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var i=n(1);var s=h(i);var o=n(154);var u=n(263);var a=n(220);var f=h(a);var l=n(427);var c=h(l);var m=function(e){function t(e,n){p(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.search=r.search.bind(r);return r}v(t,e);r(t,[{key:"search",value:function(){var t=this.props,n=t.item,r=t.click;var i={fromCity:n.dep,toCity:n.arr,fromDate:n.depDate,toDate:n.depDate,fromCode:n.depAirport,toCode:n.arrAirport,searchType:"OnewayFlight"};if(n.roundTrip){i.searchType="RoundTripFlight";i.toDate=n.retDate}if(r){var s={r:r,from:n.depAirport,to:n.arrAirport,from_date:n.depDate};if(n.roundTrip){s.to_date=n.retDate}GodEye.log({r:"user_history_click",val:n.depAirport+"/"+n.arrAirport+"/"+n.depDate+"/"+n.retDate});GodEye.log(s)}this.props.dispatch((0,u.doSearch)(i))}},{key:"render",value:function(){var t=this.props.item;var n=t.roundTrip?"":"";var r=t.roundTrip||t.roundRecommend?false:true;var i=t.roundRecommend?true:false;var o=t.price==0?false:true;return s["default"].createElement("li",{className:"item",onClick:this.search},s["default"].createElement("a",{href:t.url,className:(0,f["default"])({history:!i})},s["default"].createElement("div",{className:"time"},s["default"].createElement("p",{className:(0,f["default"])({hide:i,title:true})},t.dep,s["default"].createElement("i",{className:"iconfont"},n),t.arr),s["default"].createElement("div",{className:"date"},s["default"].createElement("p",null,t.fromDate," ",t.fromWeekday),s["default"].createElement("p",null,t.toDate," ",t.toWeekday)),s["default"].createElement("div",{className:(0,f["default"])({day:true,hide:r})},t.minusDay,"天")),o&&s["default"].createElement("div",{className:"price"},s["default"].createElement("i",{className:"icon"},"¥"),t.price),!o&&s["default"].createElement("div",{className:"price"},"查看")))}}]);return t}(i.Component);t["default"]=(0,o.connect)()(m);e.exports=t["default"]},428:function(e,t){},430:function(e,t){},473:function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){if(typeof i==="function"){return i(n,r,e)}return t(i)}}}}t.__esModule=true;var r=n();r.withExtraArgument=n;t["default"]=r},474:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function r(e){return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function a(e,t,i,s){switch(typeof e==="undefined"?"undefined":r(e)){case"object":return typeof e[s]==="function"?e[s].apply(e,n(i)):e[s];case"function":return e(t);default:return e}}function f(){function C(){N.forEach(function(e,t){var r=e.started;var s=e.startedTime;var u=e.action;var f=e.prevState;var c=e.error;var h=e.took;var d=e.nextState;var m=N[t+1];if(m){d=m.prevState;h=m.started-r}var g=w(u);var y=typeof l==="function"?l(function(){return d},u):l;var b=o(s);var E=T.title?"color: "+T.title(g)+";":null;var S="action "+(v?b:"")+" "+g.type+" "+(p?"(in "+h.toFixed(2)+" ms)":"");try{if(y){if(T.title)i.groupCollapsed("%c "+S,E);else i.groupCollapsed(S)}else{if(T.title)i.group("%c "+S,E);else i.group(S)}}catch(x){i.log(S)}var C=a(n,g,[f],"prevState");var k=a(n,g,[g],"action");var L=a(n,g,[c,f],"error");var A=a(n,g,[d],"nextState");if(C){if(T.prevState)i[C]("%c prev state","color: "+T.prevState(f)+"; font-weight: bold",f);else i[C]("prev state",f)}if(k){if(T.action)i[k]("%c action","color: "+T.action(g)+"; font-weight: bold",g);else i[k]("action",g)}if(c&&L){if(T.error)i[L]("%c error","color: "+T.error(c,f)+"; font-weight: bold",c);else i[L]("error",c)}if(A){if(T.nextState)i[A]("%c next state","color: "+T.nextState(d)+"; font-weight: bold",d);else i[A]("next state",d)}try{i.groupEnd()}catch(x){i.log("—— log end ——")}});N.length=0}var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var t=e.level;var n=t===undefined?"log":t;var r=e.logger;var i=r===undefined?console:r;var s=e.logErrors;var f=s===undefined?true:s;var l=e.collapsed;var c=e.predicate;var h=e.duration;var p=h===undefined?false:h;var d=e.timestamp;var v=d===undefined?true:d;var m=e.transformer;var g=e.stateTransformer;var y=g===undefined?function(e){return e}:g;var b=e.actionTransformer;var w=b===undefined?function(e){return e}:b;var E=e.errorTransformer;var S=E===undefined?function(e){return e}:E;var x=e.colors;var T=x===undefined?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:x;if(typeof i==="undefined"){return function(){return function(e){return function(t){return e(t)}}}}if(m){console.error("Option 'transformer' is deprecated, use stateTransformer instead")}var N=[];return function(e){var t=e.getState;return function(e){return function(n){if(typeof c==="function"&&!c(t,n)){return e(n)}var r={};N.push(r);r.started=u.now();r.startedTime=new Date;r.prevState=y(t());r.action=n;var i=undefined;if(f){try{i=e(n)}catch(s){r.error=S(s)}}else{i=e(n)}r.took=u.now()-r.started;r.nextState=y(t());C();if(r.error)throw r.error;return i}}}}var i=function(t,n){return(new Array(n+1)).join(t)};var s=function(t,n){return i("0",n-t.toString().length)+t};var o=function(t){return"@ "+s(t.getHours(),2)+":"+s(t.getMinutes(),2)+":"+s(t.getSeconds(),2)+"."+s(t.getMilliseconds(),3)};var u=typeof performance!=="undefined"&&typeof performance.now==="function"?performance:Date;e.exports=f},484:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.TOGGLE_OTA_LIST="LIST.TOGGLE_OTA_LIST";var r=t.TOGGLE_FUZZY_OTA_LIST="LIST.TOGGLE_FUZZY_OTA_LIST";var i=t.SELECT_FLIGHT_CODE="LIST.SELECT_FLIGHT_CODE";var s=t.toggleOTAList=function(t,r,i){return function(e,i){e({type:n,key:t,isActive:r})}};var o=t.toggleFuzzyOTAList=function(t,n){return{type:r,key:t,isActive:n}};var u=t.selectFlightCode=function(t,n){return{type:i,key:t,flightCode:n}}},486:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={GET_OTA_INFO_START:"GET_OTA_INFO_START",GET_OTA_INFO_SUCCESS:"GET_OTA_INFO_SUCCESS",GET_OTA_INFO_FAILED:"GET_OTA_INFO_FAILED",ADD_COUNT:"ADD_COUNT",TAB_CHANGE:"TAB_CHANGE",UPDATE_QUERY_ID:"UPDATE_QUERY_ID"};t["default"]=n;e.exports=t["default"]},494:function(e,t){"use strict";function n(e){var t={};var n=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:e;var i=arguments[1];if(t[i.type]){return t[i.type](r,i)}return r};n.action=function(e,n){t[e]=n};return n}Object.defineProperty(t,"__esModule",{value:true});t["default"]=n;e.exports=t["default"]},495:function(e,t,n){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function m(e){var t=new Date(e.replace(/-/g,"/"));var n=h({},e,{depDate:e});var r=6;for(var i=0;i<r;i++){var s=a["default"].getYYYYMMDD(new Date(t.setDate(t.getDate()+1)));n[s]={depDate:s}}return n}function g(e){var t=[];var n=void 0;var r=[];for(var i in e){var s=e[i];var o=a["default"].getSpecialDay(s.depDate);var u=a["default"].getWeekDay(s.depDate);Object.assign(s,{price:s.price&&s.price<9999999?s.price:"查看",depDate:s.depDate,depWeekDay:{label:u.label,className:u.className},depSpecialDay:{label:o.label,className:o.className}});if(+s.price>0){if(!n||+n.price>+s.price){n=s;r=[s]}else if(n&&+n.price==+s.price){r.push(s)}}t.push(s)}r&&r.length&&r.forEach(function(e){e.isLowest=1});return t.sort(function(e,t){return Date.parse(e.depDate.replace(/-/g,"/"))-Date.parse(t.depDate.replace(/-/g,"/"))})}Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};t.getWeekDatesByFst=m;t.formatOnewayData=g;var i=n(494);var s=c(i);var o=n(264);var u=n(243);var a=c(u);var f=n(313);var l=n(285);var p=(0,f.getServerTime)();var d={reqDepDate:"",reqRetDate:"",search:{searchType:"OnewayFlight",fromDate:"2016-09-06",toDate:"2016-09-09",fromCity:"北京",toCity:"上海"},reqType:"oneway",onewayDateList:[],roundwayDateList:[]};var v=(0,s["default"])(d);v.action(o.Actions.DATEBAR_GET_ONEWAY_LOWPRICE,function(e,t){var n=t.onewayDateList.banner;if(t.reqType=="calendar"){var i={};n.forEach(function(e){i[e.depDate]=e});return r({},e,{calendarPriceData:r({},e.calendarPriceData,i),reqType:t.reqType,params:r({},t.params,{reqDepDate:e.params.reqDepDate,reqType:e.params.reqType})})}var s=m(t.reqDepDate);n.forEach(function(e){s[e.depDate]&&(s[e.depDate]=e)});return r({},e,{onewayDateList:g(s),reqType:t.reqType,reqDepDate:new Date(t.reqDepDate.replace(/-/g,"/")),params:t.params})});v.action(o.Actions.DATEBAR_GET_ROUNDWAY_LOWPRICE,function(e,t){var n=t.roundwayDateList;var i=n.banner||[];var s=void 0;var o=[];if(t.reqType=="roundCalendar"){return r({},e,{roundCalendarPriceDataMatrix:n.matrix,roundCalendarPriceDataRetDateSort:n.retDateSort,params:r({},t.params,{reqDepDate:e.params.reqDepDate,reqRetDate:e.params.reqRetDate,reqType:e.params.reqType})})}var u=i.map(function(e){var t=a["default"].getWeekDay(e.depDate);var n=a["default"].getWeekDay(e.retDate);if(+e.price>0&&e.price<9999999){if(!s||+s.price>+e.price){s=e;o=[e]}else if(s&&+s.price==+e.price){o.push(e)}}return Object.assign(e,{price:e.price==9999999||!e.price?"查看":e.price,depWeekDay:{label:t.label,className:t.className},retWeekDay:{label:n.label,className:n.className}})});s&&(s.isLowest=1);o&&o.length&&o.forEach(function(e){e.isLowest=1});return r({},e,{roundwayDateList:u,reqDepDate:t.reqDepDate,reqRetDate:t.reqRetDate,params:t.params})});t["default"]=v},530:function(e,t,n){var r;(function(t,i){(function(t,n){true?e.exports=n():typeof define==="function"&&define.amd?define(n):t.ES6Promise=n()})(this,function(){"use strict";function e(e){return typeof e==="function"||typeof e==="object"&&e!==null}function s(e){return typeof e==="function"}function h(e){l=e}function p(e){c=e}function b(){return function(){return t.nextTick(N)}}function w(){return function(){f(N)}}function E(){var e=0;var t=new m(N);var n=document.createTextNode("");t.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function S(){var e=new MessageChannel;e.port1.onmessage=N;return function(){return e.port2.postMessage(0)}}function x(){var e=setTimeout;return function(){return e(N,1)}}function N(){for(var e=0;e<a;e+=2){var t=T[e];var n=T[e+1];t(n);T[e]=undefined;T[e+1]=undefined}a=0}function C(){try{var e=r;var t=n(531);f=t.runOnLoop||t.runOnContext;return w()}catch(i){return x()}}function L(e,t){var n=arguments;var r=this;var i=new this.constructor(M);if(i[O]===undefined){nt(i)}var s=r._state;if(s){(function(){var e=n[s-1];c(function(){return Y(s,i,e,r._result)})})()}else{$(r,i,e,t)}return i}function A(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var n=new t(M);z(n,e);return n}function M(){}function B(){return new TypeError("You cannot resolve a promise with itself")}function j(){return new TypeError("A promises callback cannot return that same promise.")}function F(e){try{return e.then}catch(t){H.error=t;return H}}function I(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function q(e,t,n){c(function(e){var r=false;var i=I(n,t,function(n){if(r){return}r=true;if(t!==n){z(e,n)}else{X(e,n)}},function(t){if(r){return}r=true;V(e,t)},"Settle: "+(e._label||" unknown promise"));if(!r&&i){r=true;V(e,i)}},e)}function R(e,t){if(t._state===D){X(e,t._result)}else if(t._state===P){V(e,t._result)}else{$(t,undefined,function(t){return z(e,t)},function(t){return V(e,t)})}}function U(e,t,n){if(t.constructor===e.constructor&&n===L&&t.constructor.resolve===A){R(e,t)}else{if(n===H){V(e,H.error)}else if(n===undefined){X(e,t)}else if(s(n)){q(e,t,n)}else{X(e,t)}}}function z(t,n){if(t===n){V(t,B())}else if(e(n)){U(t,n,F(n))}else{X(t,n)}}function W(e){if(e._onerror){e._onerror(e._result)}J(e)}function X(e,t){if(e._state!==_){return}e._result=t;e._state=D;if(e._subscribers.length!==0){c(J,e)}}function V(e,t){if(e._state!==_){return}e._state=P;e._result=t;c(W,e)}function $(e,t,n,r){var i=e._subscribers;var s=i.length;e._onerror=null;i[s]=t;i[s+D]=n;i[s+P]=r;if(s===0&&e._state){c(J,e)}}function J(e){var t=e._subscribers;var n=e._state;if(t.length===0){return}var r=undefined,i=undefined,s=e._result;for(var o=0;o<t.length;o+=3){r=t[o];i=t[o+n];if(r){Y(n,r,i,s)}else{i(s)}}e._subscribers.length=0}function K(){this.error=null}function G(e,t){try{return e(t)}catch(n){Q.error=n;return Q}}function Y(e,t,n,r){var i=s(n),o=undefined,u=undefined,a=undefined,f=undefined;if(i){o=G(n,r);if(o===Q){f=true;u=o.error;o=null}else{a=true}if(t===o){V(t,j());return}}else{o=r;a=true}if(t._state!==_){}else if(i&&a){z(t,o)}else if(f){V(t,u)}else if(e===D){X(t,o)}else if(e===P){V(t,o)}}function Z(e,t){try{t(function(n){z(e,n)},function(n){V(e,n)})}catch(n){V(e,n)}}function tt(){return et++}function nt(e){e[O]=et++;e._state=undefined;e._result=undefined;e._subscribers=[]}function rt(e,t){this._instanceConstructor=e;this.promise=new e(M);if(!this.promise[O]){nt(this.promise)}if(u(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){X(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){X(this.promise,this._result)}}}else{V(this.promise,it())}}function it(){return new Error("Array Methods must be provided an Array")}function st(e){return(new rt(this,e)).promise}function ot(e){var t=this;if(!u(e)){return new t(function(e,t){return t(new TypeError("You must pass an array to race."))})}else{return new t(function(n,r){var i=e.length;for(var s=0;s<i;s++){t.resolve(e[s]).then(n,r)}})}}function ut(e){var t=this;var n=new t(M);V(n,e);return n}function at(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ft(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function lt(e){this[O]=tt();this._result=this._state=undefined;this._subscribers=[];if(M!==e){typeof e!=="function"&&at();this instanceof lt?Z(this,e):ft()}}function ct(){var e=undefined;if(typeof i!=="undefined"){e=i}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if(r==="[object Promise]"&&!n.cast){return}}e.Promise=lt}var o=undefined;if(!Array.isArray){o=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{o=Array.isArray}var u=o;var a=0;var f=undefined;var l=undefined;var c=function(t,n){T[a]=t;T[a+1]=n;a+=2;if(a===2){if(l){l(N)}else{k()}}};var d=typeof window!=="undefined"?window:undefined;var v=d||{};var m=v.MutationObserver||v.WebKitMutationObserver;var g=typeof self==="undefined"&&typeof t!=="undefined"&&{}.toString.call(t)==="[object process]";var y=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";var T=new Array(1e3);var k=undefined;if(g){k=b()}else if(m){k=E()}else if(y){k=S()}else if(d===undefined&&"function"==="function"){k=C()}else{k=x()}var O=Math.random().toString(36).substring(16);var _=void 0;var D=1;var P=2;var H=new K;var Q=new K;var et=0;rt.prototype._enumerate=function(){var e=this.length;var t=this._input;for(var n=0;this._state===_&&n<e;n++){this._eachEntry(t[n],n)}};rt.prototype._eachEntry=function(e,t){var n=this._instanceConstructor;var r=n.resolve;if(r===A){var i=F(e);if(i===L&&e._state!==_){this._settledAt(e._state,t,e._result)}else if(typeof i!=="function"){this._remaining--;this._result[t]=e}else if(n===lt){var s=new n(M);U(s,e,i);this._willSettleAt(s,t)}else{this._willSettleAt(new n(function(t){return t(e)}),t)}}else{this._willSettleAt(r(e),t)}};rt.prototype._settledAt=function(e,t,n){var r=this.promise;if(r._state===_){this._remaining--;if(e===P){V(r,n)}else{this._result[t]=n}}if(this._remaining===0){X(r,this._result)}};rt.prototype._willSettleAt=function(e,t){var n=this;$(e,undefined,function(e){return n._settledAt(D,t,e)},function(e){return n._settledAt(P,t,e)})};lt.all=st;lt.race=ot;lt.resolve=A;lt.reject=ut;lt._setScheduler=h;lt._setAsap=p;lt._asap=c;lt.prototype={constructor:lt,then:L,"catch":function(t){return this.then(null,t)}};ct();lt.polyfill=ct;lt.Promise=lt;return lt})}).call(t,n(337),function(){return this}())},531:function(e,t){},537:function(e,t){"use strict";function r(e){return{type:n.UPDATE_AFFIX,payload:e}}Object.defineProperty(t,"__esModule",{value:true});t.updateAffix=r;var n=t.AFFIX_TYPES={UPDATE_AFFIX:"UPDATE_AFFIX"}},574:function(e,t){"use strict";function r(e){return{type:n.DO_SEARCH,payload:e}}function i(){return{type:n.LOCAL_DATE_SUCCESS}}Object.defineProperty(t,"__esModule",{value:true});t.doSearch=r;t.localDateSuccess=i;var n=t.SEARCHBOX_TYPES={DO_SEARCH:"DO_SEARCH",LOCAL_DATE_SUCCESS:"LOCAL_DATE_SUCCESS",CHANGE_SEARCH_TYPE:"SEARCHBOX_CHANGE_SEARCH_TYPE",SEARCHBOX_GET_ONEWAY_LOWPRICE:"SEARCHBOX_GET_ONEWAY_LOWPRICE",SEARCHBOX_START_GET_LOWPRICE:"SEARCHBOX_START_GET_LOWPRICE"}},599:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.OTA_ONE_WAY_TYPES={GET_ONE_WAY_OTA_INFO_START:"GET_ONE_WAY_OTA_INFO_START",GET_ONE_WAY_OTA_INFO_SUCCESS:"GET_ONE_WAY_OTA_INFO_SUCCESS",GET_ONE_WAY_OTA_INFO_FAILED:"GET_ONE_WAY_OTA_INFO_FAILED",RELOAD_ONE_WAY_OTA_INFO_START:"RELOAD_ONE_WAY_OTA_INFO_START",RELOAD_ONE_WAY_OTA_INFO_SUCCESS:"RELOAD_ONE_WAY_OTA_INFO_SUCCESS",RELOAD_ONE_WAY_OTA_INFO_FAILED:"RELOAD_ONE_WAY_OTA_INFO_FAILED",GET_ONE_WAY_TRANS_INFO_START:"GET_ONE_WAY_TRANS_INFO_START",GET_ONE_WAY_TRANS_INFO_SUCCESS:"GET_ONE_WAY_TRANS_INFO_SUCCESS",GET_ONE_WAY_TRANS_INFO_FAILED:"GET_ONE_WAY_TRANS_INFO_FAILED",RELOAD_ONE_WAY_TRANS_INFO_START:"RELOAD_ONE_WAY_TRANS_INFO_START",RELOAD_ONE_WAY_TRANS_INFO_SUCCESS:"RELOAD_ONE_WAY_TRANS_INFO_SUCCESS",RELOAD_ONE_WAY_TRANS_INFO_FAILED:"RELOAD_ONE_WAY_TRANS_INFO_FAILED",SHOW_FUZZY_OTA:"SHOW_FUZZY_OTA",QUICK_FILTER:"QUICK_FILTER",GET_FUZZY_OTA_INFO_START:"GET_FUZZY_OTA_INFO_START",GET_FUZZY_OTA_INFO_SUCCESS:"GET_FUZZY_OTA_INFO_SUCCESS",GET_TRAVEL_OTA_INFO_START:"GET_TRAVEL_OTA_INFO_START",GET_TRAVEL_OTA_INFO_SUCCESS:"GET_TRAVEL_OTA_INFO_SUCCESS",GET_ROUND_CALENDER_INFO_START:"GET_ROUND_CALENDER_INFO_START",CLOSE_ROUND_CALENDER_BOX:"CLOSE_ROUND_CALENDER_BOX",GET_ROUND_CALENDER_INFO_SUCCESS:"GET_ROUND_CALENDER_INFO_SUCCESS",GET_ROUND_CALENDER_INFO_FAILDED:"GET_ROUND_CALENDER_INFO_FAILDED",SELECTED_FLIGHT:"SELECTED_FLIGHT",CHANGE_CABIN_TAB:"CHANGE_CABIN_TAB"};var r=t.GO_BOOKING="GO_BOOKING"},638:function(e,t,n){"use strict";function c(e){var t=e.dispatch,n=e.getState;return function(e){return function(t){var n=t.type;if(l.indexOf(n)>-1&&h()){var i={tit:"价格可能已经更新，为您重新搜索",txt:"距上次搜索已过去10分钟，重新搜索以提供更准确价格"};r.dialog.base(i.txt,{type:"box",title:"信息提示",subtit:i.tit,close:false,complete:function(){setTimeout(function(){location.reload()},1500)},btns:[]})}else{e(t)}}}}function h(){return(0,i.getPageStayTime)()/6e4>10?true:false}Object.defineProperty(t,"__esModule",{value:true});t["default"]=c;var r=n(265);var i=n(313);var s=n(294);var o=n(484);var u=n(290);var a=n(278);var f=n(301);var l=[s.TOGGLE_OTA_LIST,o.TOGGLE_FUZZY_OTA_LIST,a.FLIGHT_ITEM_TOP,a.FILTER_TOP,"GO_BOOKING",u.PAGE_CHANGE_NUMBER];e.exports=t["default"]},639:function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}function m(e){var t=e.dispatch,n=e.getState;return function(e){return function(t){var n=GodEye,l=n.log;switch(t.type){case o.SEARCHBOX_TYPES.CHANGE_SEARCH_TYPE:l({r:"srchbox_chg_searchtype",type:t.data});break;case i.Actions.DATEBAR_START_GET_LOWPRICE:n.getEye("lowpr_api").clear();break;case i.Actions.DATEBAR_GET_ONEWAY_LOWPRICE:case i.Actions.DATEBAR_GET_ROUNDWAY_LOWPRICE:if(!t.fromCache){n.getEye("lowpr_api").addTime("load_time").log()}break;case s.FILTER:l({r:"filter_click",cat:t.filter.key,val:t.filter.k,checked:t.filter.checked});break;case s.CLEARFILTER:l({r:"clear_filter_click"});break;case s.DIRECT:l({r:"direct_click",checked:t.checked});break;case s.SORT:l(r({r:"sort_click"},t.sort));break;case p.PAGE_CHANGE_NUMBER:l({r:"page_click",type:t.actType,num:t.pageNo});break;case h.GOBOOKING:l({r:"booking_click"});break;case a.OTA_ONE_WAY_TYPES.CHANGE_CABIN_TAB:l({r:"ota_tab_click",target:t.payload.index===1?"bf":"all"});break;case a.OTA_ONE_WAY_TYPES.RELOAD_ONE_WAY_OTA_INFO_START:l({r:"ota_tab_click",target:"bf"});break;case c["default"].TAB_CHANGE:l({r:"ota_tab_click",target:t.payload.tab});break;case a.OTA_ONE_WAY_TYPES.GET_ONE_WAY_OTA_INFO_START:case a.OTA_ONE_WAY_TYPES.GET_ONE_WAY_TRANS_INFO_START:case a.OTA_ONE_WAY_TYPES.RELOAD_ONE_WAY_OTA_INFO_START:case f.OTA_ROUND_WAY_TYPES.GET_ROUND_WAY_OTA_INFO_START:v[t.payload.flightKey]=(new Date).getTime();break;case a.OTA_ONE_WAY_TYPES.GET_ONE_WAY_OTA_INFO_SUCCESS:case a.OTA_ONE_WAY_TYPES.GET_ONE_WAY_TRANS_INFO_SUCCESS:case f.OTA_ROUND_WAY_TYPES.GET_ROUND_WAY_OTA_INFO_SUCCESS:l({r:"ota_api",load_time:(new Date).getTime()-v[t.payload.flightKey]});break;case a.OTA_ONE_WAY_TYPES.GET_ONE_WAY_OTA_INFO_FAILED:case a.OTA_ONE_WAY_TYPES.RELOAD_ONE_WAY_OTA_INFO_FAILED:case a.OTA_ONE_WAY_TYPES.GET_ONE_WAY_TRANS_INFO_FAILED:case a.OTA_ONE_WAY_TYPES.RELOAD_ONE_WAY_TRANS_INFO_FAILED:case f.OTA_ROUND_WAY_TYPES.GET_ROUND_WAY_OTA_INFO_FAILED:case c["default"].GET_OTA_INFO_FAILED:l({r:"ota_api_failed"});break;case u.TOGGLE_OTA_LIST:l({r:"flight_click",flight_key:t.key,open:!t.isActive});break;case"GOTOP_CLICK":l({r:"gotop_click"});break}e(t)}}}Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};t["default"]=m;var i=n(264);var s=n(285);var o=n(263);var u=n(294);var a=n(599);var f=n(347);var l=n(486);var c=d(l);var h=n(640);var p=n(290);var v={};e.exports=t["default"]},640:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.GOBOOKING="GO_BOOKING"},727:function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){var n=void 0;if(true){n=(0,r.compose)((0,r.applyMiddleware)(f["default"],c["default"],s["default"],p["default"]))(r.createStore)}else{n=(0,r.compose)((0,r.applyMiddleware)(f["default"],c["default"],s["default"],(0,u["default"])(),p["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e})(r.createStore)}return n(e,t)}Object.defineProperty(t,"__esModule",{value:true});t["default"]=v;var r=n(178);var i=n(473);var s=d(i);var o=n(474);var u=d(o);var a=n(728);var f=d(a);var l=n(638);var c=d(l);var h=n(639);var p=d(h);e.exports=t["default"]},728:function(e,t){"use strict";function n(e){var t=e.dispatch,n=e.getState;return function(e){return function(t){if(t.type&&!t.store){t.store=n()}return e(t)}}}Object.defineProperty(t,"__esModule",{value:true});t["default"]=n;e.exports=t["default"]},769:function(e,t){"use strict";function r(e){return{type:n,data:e}}Object.defineProperty(t,"__esModule",{value:true});t.update_history=r;var n=t.UPDATE_HISTORY_DATA="UPDATE_HISTORY_DATA"},770:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:true});var r=n(727);var i=u(r);var s=n(771);var o=u(s);t["default"]=(0,i["default"])(o["default"]);e.exports=t["default"]},771:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:true});var r=n(178);var i=n(772);var s=l(i);var o=n(773);var u=l(o);var a=n(774);var f=l(a);t["default"]=(0,r.combineReducers)({search:s["default"],qHistory:u["default"],affix:f["default"]});e.exports=t["default"]},772:function(e,t,n){"use strict";function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}}function p(e){return e&&e.__esModule?e:{"default":e}}function m(){var e=decodeURI(location.search.replace(/^\?/,""));var t=[];var n=0;var r=0;var i="";var s={};e=e.replace(/\?/g,"&");t=e.split("&");for(r=t.length;n<r;n++){i=t[n];if(i!==""){i=i.split("=");s[i[0]]=i[1]}}return s}function g(){var e=location.search.substring(1).replace(/^[^\w]*/,"").replace(/\?/g,"&");if(e){var t=m();var n={searchDepartureAirport:"fromCity",searchArrivalAirport:"toCity",searchDepartureTime:"fromDate",searchArrivalTime:"toDate"};var r=Object.assign({},{fromCode:"",toCode:"",from:"",ex_track:""},t);var i=Object.keys(r);i.forEach(function(e){if(e in n){r[n[e]]=(r[e]||"").split(",")}else{r[e]=(r[e]||"").split(",")}});var s={};s.multiFlight=[];for(var o=0;o<r.fromCity.length;o++){s.multiFlight.push({fromCity:r.fromCity[o]||"",fromCode:r.fromCode[o]||"",toCity:r.toCity[o]||"",toCode:r.toCode[o]||"",fromDate:r.fromDate[o]||""})}if(s.multiFlight.length<2){s.multiFlight.push({fromCity:"",fromCode:"",toCity:"",toCode:"",fromDate:""})}s.fromCity=r.fromCity[0]||"";s.fromCode=r.fromCode[0]||"";s.toCity=r.toCity[0]||"";s.toCode=r.toCode[0]||"";s.from=r.from[0]||"";s.ex_track=r.ex_track[0]||"";s.fromDate=r.fromDate[0]||"";s.toDate=r.toDate?r.toDate[0]||"":"";s.adultNum=r.adultNum?parseInt(r.adultNum[0])||1:"";s.childNum=r.childNum?parseInt(r.childNum[0])||0:"";s.SearchLocation="sbox_search";s.price=r.price&&r.price.length?r.price[0]:"";s.filterFlightCode=r.filterFlightCode&&r.filterFlightCode.length?r.filterFlightCode[0]:"";s.flightCode=r.origional?r.origional[0]||"":"";var u=location.pathname;if(u.indexOf("inter")!==-1){s.type="inter"}if(u.indexOf("oneway")!=-1){s.searchType="OnewayFlight"}else if(u.indexOf("roundtrip")!=-1){s.searchType="RoundTripFlight"}else if(u.indexOf("multi_trip")!=-1){s.searchType="MutipleTripFlight"}else{s.searchType="OnewayFlight"}return s}return false}function y(e,t){var n=[];var r=Object.assign({},e,t);n.push("from="+encodeURIComponent(r.from));n.push("ex_track="+encodeURIComponent(r.ex_track));n.push("SearchLocation="+encodeURIComponent(r.SearchLocation));if(r.searchType=="OnewayFlight"||r.searchType=="RoundTripFlight"){n.push("searchType="+encodeURIComponent(r.searchType));n.push("fromCity="+encodeURIComponent(r.fromCity+(r.fromCode?"("+r.fromCode+")":"")));n.push("toCity="+encodeURIComponent(r.toCity+(r.toCode?"("+r.toCode+")":"")));n.push("fromDate="+encodeURIComponent(r.fromDate));n.push("toDate="+encodeURIComponent(r.toDate));n.push("adultNum="+encodeURIComponent(r.adultNum));n.push("childNum="+encodeURIComponent(r.childNum));if(location.protocol==="https:"){n.push("ishttps=1")}}if(r.searchType=="MutipleTripFlight"){n.push("searchType=MultiTripFlight");n.push("fromCity="+encodeURIComponent(r.multiFlight.map(function(e){return e.fromCity+(e.fromCode?"("+e.fromCode+")":"")}).join(",")));n.push("toCity="+encodeURIComponent(r.multiFlight.map(function(e){return e.toCity+(e.toCode?"("+e.toCode+")":"")}).join(",")));n.push("fromDate="+encodeURIComponent(r.multiFlight.map(function(e){return e.fromDate}).join(",")));n.push("toDate=");for(var i=0;i<r.multiFlight.length;i++){var s=r.multiFlight[i];n.push("fromCityMulti="+encodeURIComponent(s.fromCity+(s.fromCode?"("+s.fromCode+")":"")));n.push("toCityMulti="+encodeURIComponent(s.toCity+(s.toCode?"("+s.toCode+")":"")));n.push("fromDateMulti="+encodeURIComponent(s.fromDate))}}if(r.target){window.open("//flight.qunar.com/twell/flight/Search.jsp?"+n.join("&"),r.target)}else{location.href="//flight.qunar.com/twell/flight/Search.jsp?"+n.join("&")}}Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var i=n(574);var s=n(494);var o=p(s);var u=n(234);var a=h(u);var f=n(243);var l=p(f);var c=n(495);var d={from:"fi_re_search",ex_track:"",SearchLocation:"sbox_search",type:"domestic",searchType:"",target:"",inter:false,validate:true,fromCity:"",fromCode:"",toCity:"",toCode:"",fromDate:"",toDate:"",adultNum:"",childNum:"",price:"",filterFlightCode:"",calendarPriceData:{},params:{},reqType:"oneWay",onewayDateList:[],reqDepDate:"",reqRetDate:"",multiFlight:[{fromCity:"",fromCode:"",toCity:"",toCode:"",fromDate:""},{fromCity:"",fromCode:"",toCity:"",toCode:"",fromDate:""}]};var v=g();if(v){d=Object.assign(d,v)}var b=(0,o["default"])(d);b.action(i.SEARCHBOX_TYPES.DO_SEARCH,function(e,t){y(e,t.payload);return e});b.action(i.SEARCHBOX_TYPES.SEARCHBOX_GET_ONEWAY_LOWPRICE,function(e,t){var n=t.onewayDateList.banner;var i;if(t.reqType=="calendar"){var s={};n.forEach(function(e){s[e.depDate]=e});i=r({},e,{calendarPriceData:r({},e.calendarPriceData,s),reqType:t.reqType,params:r({},t.params)});return i}var o=(0,c.getWeekDatesByFst)(t.reqDepDate);n.forEach(function(e){o[e.depDate]=e});i=r({},e,{onewayDateList:(0,c.formatOnewayData)(o),reqType:t.reqType,reqDepDate:new Date(t.reqDepDate.replace(/-/g,"/")),params:t.params});return i});t["default"]=b;e.exports=t["default"]},773:function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments[1];if(t.type===r.UPDATE_HISTORY_DATA){return Object.assign.apply(Object,[{}].concat(i(e),[t.data]))}else{return e}}Object.defineProperty(t,"__esModule",{value:true});t["default"]=s;var r=n(769);e.exports=t["default"]},774:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var i=n(537);var s=n(775);var o=u(s);var a=(0,o["default"])({});a.action(i.AFFIX_TYPES.UPDATE_AFFIX,function(e,t){return r({},e,t.payload)});t["default"]=a;e.exports=t["default"]},775:function(e,t){"use strict";function n(e){var t={};var n=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:e;var i=arguments[1];if(t[i.type]){return t[i.type](r,i)}return r};n.action=function(e,n){t[e]=n};return n}Object.defineProperty(t,"__esModule",{value:true});t["default"]=n;e.exports=t["default"]},1227:function(e,t,n){"use strict";function v(e){return e&&e.__esModule?e:{"default":e}}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var i=n(1);var s=v(i);var o=n(154);n(206);var u=n(1228);var a=v(u);var f=n(1229);var l=v(f);var c=n(1232);var h=v(c);var p=n(277);var d=n(294);var b=function(e){function t(){m(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}y(t,e);r(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"sidebar"},s["default"].createElement("div",null,s["default"].createElement("abbr",{id:"ifrFlightResultRightAd","data-type":"qde","data-query":"chan=flight&pg=list&pos=top&site=qunar&size=272x220&adtype=flash"})),s["default"].createElement(l["default"],null),s["default"].createElement(h["default"],null),s["default"].createElement(a["default"],null),s["default"].createElement("div",null,s["default"].createElement("abbr",{id:"ifrRightTopAd1","data-type":"qde","data-query":"chan=flight&pg=list&pos=top&site=qunar&size=230x90"})),s["default"].createElement("div",null,s["default"].createElement("abbr",{id:"rightFlightImgGoBanner","data-type":"qad","data-host":"flightopdata","data-query":"id=14"})),s["default"].createElement("div",null,s["default"].createElement("abbr",{id:"ifrNTAD_patch","data-type":"qad","data-query":"vataposition=QNR_Yg==_CN&tag=0&cur_page_num=0&rep=1&f=s&rows=10"})),s["default"].createElement("div",null,s["default"].createElement("abbr",{id:"ifrRightCenterAd","data-type":"qde","data-query":"chan=flight&pg=list&pos=mid&site=qunar&size=272x220"})))}}]);return t}(i.Component);t["default"]=b;e.exports=t["default"]},1228:function(e,t,n){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function m(e){var t=e.search;return{search:t,inter:t.inter}}Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var i=n(1);var s=c(i);var o=n(154);var u=n(426);var a=c(u);var f=n(213);var l=c(f);var v=function(e){function t(e){h(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={data:{}};return n}d(t,e);r(t,[{key:"componentWillMount",value:function(){var t=this;var n=this.props,r=n.search,i=n.inter;var s="//ws.qunar.com/rt_recommend?"+"count=3"+"&fromCity="+r.fromCity+"&toCity="+r.toCity+"&depDate="+r.fromDate+"&includeTax="+(i?1:0);(0,l["default"])({url:s,success:function(n){n=n||{};if(n.ret===1&&n.data.list.length){var r=n.data;r.list.sort(function(e,t){return i?e.totalPrice-t.totalPrice:e.pPrice-t.pPrice});r=t.changeData(r);t.setState({data:r})}},error:function(){}})}},{key:"changeData",value:function(t){var n=this.props,r=n.inter,i=n.search;t.list.forEach(function(e,t){var n=[];var s=[];var o=[];var u=[];var a=["周日","周一","周二","周三","周四","周五","周六"];n[0]=e.dep_date.substring(0,4);s[0]=e.fromDate.split("/")[0];o[0]=e.fromDate.split("/")[1];s[1]=e.toDate.split("/")[0];o[1]=e.toDate.split("/")[1];if(parseInt(s[0])>parseInt(s[1])){n[1]=parseInt(n[0])+1}else{n[1]=n[0]}e.fdate=n[0]+"/"+e.fromDate;e.tdate=n[1]+"/"+e.toDate;u[0]=(new Date(e.fdate)).getDay();u[1]=(new Date(e.tdate)).getDay();e.fromDate=e.fromDate.replace("/","-");e.toDate=e.toDate.replace("/","-");e.fromWeekday=a[u[0]];e.toWeekday=a[u[1]];e.price=r?e.totalPrice:e.pPrice;e.roundRecommend=true;e.minusDay=parseInt(((new Date(e.tdate)).getTime()-(new Date(e.fdate)).getTime())/(1e3*60*60*24));if(e.minusDay===0){e.minusDay="当"}if(r){delete e.url;e.roundTrip=true;e.dep=i.fromCity;e.arr=i.toCity;e.depDate=e.fdate.replace(/\//g,"-");e.retDate=e.tdate.replace(/\//g,"-");e.depAirport=i.fromCode;e.arrAirport=i.toCode}});return t}},{key:"render",value:function(){var t=this.state.data;t.list=null;if(t.list){return s["default"].createElement("div",{className:"m-sidebar"},s["default"].createElement("div",{className:"m-sidebar-hd"},s["default"].createElement("div",{className:"info"},s["default"].createElement("h3",null,"往返推荐"),s["default"].createElement("p",null,t.fromCity," ",s["default"].createElement("i",{className:"iconfont"},"")," ",t.toCity)),s["default"].createElement("a",{href:t.moreUrl,className:"more"},"更多",s["default"].createElement("i",{className:"iconfont active"},""))),s["default"].createElement(a["default"],{listData:t.list,click:"round_recommend_click",beaconA:"roundrec-itemclk"}))}else{return null}}}]);return t}(s["default"].Component);t["default"]=(0,o.connect)(m)(v);e.exports=t["default"]},1229:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var i=n(1);var s=o(i);n(1230);var l=function(e){function t(){u(this,t);return a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,e);r(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"m-safeguard"},s["default"].createElement("a",{href:"http://www.qunar.com/xiaobao/flight.html",target:"_blank",className:"link"},s["default"].createElement("div",{className:"m-safeguard-hd"},s["default"].createElement("h2",null,s["default"].createElement("span",{className:"ease"},"去哪儿都放心"),s["default"].createElement("span",null,"全程预订保障"))),s["default"].createElement("div",{className:"m-safeguard-bd"},s["default"].createElement("div",{className:"info"},s["default"].createElement("div",{className:"col"},s["default"].createElement("p",{className:"icon"},s["default"].createElement("i",{className:"iconfont circle-icon"},""),s["default"].createElement("i",{className:"iconfont tricket-icon"},"")),s["default"].createElement("h5",{className:"text-primary"},"出票保障")),s["default"].createElement("div",{className:"col"},s["default"].createElement("p",{className:"icon"},s["default"].createElement("i",{className:"iconfont circle-icon"},""),s["default"].createElement("i",{className:"iconfont flight-icon"},"")),s["default"].createElement("h5",{className:"text-primary"},"出行保障"))),s["default"].createElement("div",{className:"text"},"本保障不适用于航司官网跳转、预约机票产品"))))}}]);return t}(s["default"].Component);t["default"]=l;e.exports=t["default"]},1230:function(e,t){},1232:function(e,t,n){"use strict";function m(e){return e&&e.__esModule?e:{"default":e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function E(e){var t=e.qHistory,n=e.search;return{qHistory:t,search:n}}Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var i=n(153);var s=m(i);var o=n(1);var u=m(o);var a=n(154);var f=n(220);var l=m(f);var c=n(217);var h=m(c);var p=n(426);var d=m(p);var v=n(313);var w=function(e){function t(e){g(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={rightActive:false,leftActive:false,hide:true,dataList:[],renderList:[]};n.leftButtonClick=n.leftButtonClick.bind(n);n.rightButtonClick=n.rightButtonClick.bind(n);return n}b(t,e);r(t,[{key:"componentWillReceiveProps",value:function(t){var n=t.qHistory.domestic;if(n&&n.length){this.fixReqData(n)}}},{key:"fixReqData",value:function(t){var n=this;var r=[];var i=(0,v.getServerTime)().getTime();var s=this.props.search;var o={};for(var u=0,a=t.length;u<a;u++){var f=[];var l=void 0,c=void 0;var h=t[u];l=h.fromCity;c=h.toCity;h.dep=l.slice(0,-5);h.arr=c.slice(0,-5);h.depTime=n.formate(h.fromDate);h.arrTime=h.toDate&&n.formate(h.toDate);if(!h.roundtrip){h.roundtrip=false}var p=h.dep+"|"+h.arr+"|"+h.depTime+"|"+h.arrTime;if(o[p]){continue}o[p]=true;if(h.fromDate=="Invalid Date"||h.toDate=="Invalid Date"){continue}if(s.fromCity===h.dep&&s.toCity===h.arr&&s.fromDate===h.depTime){if(s.searchType==="RoundTripFlight"){if(h.roundtrip&&s.toDate===h.arrTime){continue}}else{if(!h.roundtrip){continue}}}if(i<(new Date(h.fromDate.replace(/-/g,"/"))).getTime()+24*60*60*1e3){f.push(encodeURI(h.dep),encodeURI(h.arr),h.depTime,h.arrTime,h.roundtrip);f=f.join(",");r.push(f)}}n.getData(r)}},{key:"formate",value:function(t,n,r,i){var s=new Date(t.replace(/-/g,"/")),o=this;return[s.getFullYear(),o.padStr(s.getMonth()+1),o.padStr(s.getDate())].join("-")}},{key:"padStr",value:function(t){return t<10?"0"+t:""+t}},{key:"getData",value:function(t){var n=this;(0,h["default"])({url:"/f_fe/lp",method:"post",dataType:"json",data:{apiHost:"lp",apiPath:"/api/lp_multifetch",apiMethod:"POST",apiDataType:"json",apiKey:"get_lowest_price",apiData:{data:decodeURI(JSON.stringify(t))}},success:function(t){if(t.ret&&t.data.length){n.renderData(t.data)}},error:function(){}})}},{key:"renderData",value:function(t){var n=this,r=void 0,i=void 0,s=[];var o=["周日","周一","周二","周三","周四","周五","周六"];for(var u=0;u<t.length;u++){var a=t[u];if(a.dep){r=a.depDate&&a.depDate.replace(/-/g,"/");r=new Date(r);a.fromWeekday=o[r.getDay()];a.fromDate=a.depDate.substr(5);if(a.roundTrip){i=a.retDate&&a.retDate.replace(/-/g,"/");i=new Date(i);a.toWeekday=o[i.getDay()];a.toDate=a.retDate&&a.retDate.substr(5);a.minusDay=(i.getTime()-r.getTime())/(1e3*60*60*24);if(a.minusDay==0){a.minusDay="当"}}s.push(a)}}n.setState({renderList:s});n.renderRecords(s)}},{key:"renderRecords",value:function(t){var n=this;if(t.length>4){n.setState({dataList:this.state.renderList.slice(0,4),rightActive:true,hide:false})}else{n.setState({dataList:t})}}},{key:"rightButtonClick",value:function(){if(this.state.renderList.length>4){this.setState({rightActive:false,leftActive:true,dataList:this.state.renderList.slice(4)})}GodEye.log({r:"browser_records_nav_click",type:"next"})}},{key:"leftButtonClick",value:function(){if(this.state.renderList.length>4){this.setState({rightActive:true,leftActive:false,dataList:this.state.renderList.slice(0,4)})}GodEye.log({r:"browser_records_nav_click",type:"prev"})}},{key:"render",value:function(){var t=this.state.dataList;if(t.length){return u["default"].createElement("div",{className:"m-sidebar"},u["default"].createElement("div",{className:"m-sidebar-hd"},u["default"].createElement("div",{className:"info"},u["default"].createElement("h3",null,"浏览记录"),u["default"].createElement("p",null,"价格实时变动，以预订价格为准")),u["default"].createElement("div",{className:"more"},u["default"].createElement("i",{className:(0,l["default"])({iconfont:true,active:this.state.leftActive,hide:this.state.hide}),onClick:this.leftButtonClick},""),u["default"].createElement("i",{className:(0,l["default"])({iconfont:true,active:this.state.rightActive,hide:this.state.hide}),onClick:this.rightButtonClick},""))),u["default"].createElement(d["default"],{listData:t,click:"browser_records_click",beaconA:"browerhistroy-itemclk"}))}else{return null}}}]);return t}(u["default"].Component);t["default"]=(0,a.connect)(E)(w);e.exports=t["default"]}})